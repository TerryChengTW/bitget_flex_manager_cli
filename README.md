# Bitget Flex Manager CLI

🚀 **Bitget 交易所子帳戶和理財寶自動化管理工具**

一個功能豐富的 Python CLI 工具，專為 Bitget 交易所用戶設計，提供子帳戶管理、理財寶批量操作、資金轉移等自動化功能。

## ✨ 核心功能

### 🔧 **1. 子帳戶自動化管理**
- **批量創建虛擬子帳戶** - 自動生成指定數量的子帳戶
- **API Key 批量生成** - 為所有子帳戶自動創建 API Key
- **智能配置管理** - 自動更新和維護配置文件
- **IP 白名單綁定** - 支持 IP 限制，提升安全性

### 💰 **2. 理財寶批量管理**
- **產品查詢與選擇** - 智能顯示可申購理財寶產品和利率階梯
- **批量申購操作** - 支持多帳戶同時申購到指定額度
- **批量贖回管理** - 支持全部贖回或部分贖回策略
- **實時狀態監控** - 執行前後對比，清楚展示操作結果

### 💸 **3. 資金轉移管理**
- **主子帳戶互轉** - 支持主帳戶分發資金到子帳戶
- **批量收回資金** - 子帳戶資金一鍵轉回主帳戶
- **靈活轉帳策略** - 支持指定金額或全額轉帳模式
- **多選操作支持** - 可選擇單個或多個帳戶進行操作

### 🔄 **4. 智能版本管理**
- **自動更新檢查** - 啟動時自動檢查最新版本
- **隱私保護設計** - 配置文件存放在系統隱藏目錄
- **跨平台支持** - Windows/macOS/Linux 兼容

## 📸 功能演示

### 主選單界面
```
=== Bitget Flex Manager MVP ===
1. 初始化 - 完整設定所有子帳戶和API Key
2. 理財寶管理 - 主子帳戶理財寶批量操作
3. 轉帳管理 - 主子帳戶間資金轉移
0. 退出
================================
```

### 理財寶管理流程
1. **幣種選擇** → 2. **產品選擇** → 3. **策略選擇** → 4. **批量執行** → 5. **結果分析**

### 轉帳管理支持
- 主帳戶 → 多個子帳戶 (分發模式)
- 多個子帳戶 → 主帳戶 (收回模式)
- 支持多選語法：`1,2,3` 或 `0` (全選)

## 🚀 快速開始

### 系統要求
- Python 3.7+
- Windows 10+ / macOS 10.14+ / Linux
- 有效的 Bitget 交易所帳戶和 API Key

### 安裝步驟

1. **下載項目**
```bash
git clone https://github.com/你的用戶名/bitget_flex_manager_cli.git
cd bitget_flex_manager_cli
```

2. **安裝依賴**
```bash
pip install requests
```

3. **配置 API Key**
```bash
# 複製範例配置文件
cp bg_key_example.json bg_key.json

# 編輯配置文件，填入你的 API 資訊
notepad bg_key.json  # Windows
nano bg_key.json     # Linux/macOS
```

4. **運行程序**
```bash
python bg_flex_manager_cli.py
```

## ⚙️ 配置說明

### API Key 配置格式
```json
{
  "accounts": {
    "main": {
      "type": "main",
      "apikey": "bg_你的API_Key",
      "secret": "你的Secret_Key", 
      "passphrase": "你的API密碼"
    }
  }
}
```

### 重要安全提醒
- ✅ API Key 需要開啟 **現貨交易** 和 **資金轉移** 權限
- ✅ 建議設置 IP 白名單限制
- ✅ 定期輪換 API Key 密鑰
- ❌ 不要將配置文件提交到版本控制系統

## 📊 功能特點詳解

### 子帳戶管理特點
- **智能數量控制**: 預設管理 4 個子帳戶，可自定義調整
- **隨機名稱生成**: 8位純英文小寫字母，避免重複
- **配置自動維護**: UUID 對應關係自動排序和更新
- **增量操作支持**: 僅為缺少 API Key 的帳戶創建新金鑰

### 理財寶管理特點  
- **階梯利率分析**: 自動解析和顯示不同額度的利率區間
- **並行查詢優化**: 使用 ThreadPoolExecutor 提升查詢效率
- **智能策略建議**: 根據當前持有量和錢包餘額推薦操作
- **執行結果追蹤**: 詳細的前後對比和階梯分析報告

### 轉帳管理特點
- **餘額智能檢查**: 自動驗證轉帳金額和帳戶餘額
- **批量操作優化**: 支持一對多和多對一的轉帳模式  
- **錯誤恢復機制**: 單個操作失敗不影響其他操作繼續
- **實時進度顯示**: 清晰的執行進度和成功率統計

## 🛠️ 高級用法

### 批量理財寶策略
```bash
# 策略1: 填滿第一階梯 (如 300 USDT 上限)
選擇操作 → 1. 存入到填滿300

# 策略2: 保持第一階梯額度
選擇操作 → 2. 取出到剩300  

# 策略3: 完全退出理財寶
選擇操作 → 3. 全部取出
```

### 多帳戶轉帳示例
```bash
# 主帳戶分發 100 USDT 到 3 個子帳戶
轉帳方向 → 1. 主帳戶轉出到子帳戶
每個帳號金額 → 100
目標選擇 → 1,2,3

# 子帳戶全部資金轉回主帳戶  
轉帳方向 → 2. 子帳戶轉回主帳戶
轉回方式 → 1. 全部轉回
帳戶選擇 → 0 (全部)
```

## 🔒 安全性設計

### 隱私保護
- **配置文件隔離**: 存放在 `%LOCALAPPDATA%\\BitgetFlexManagerCLI\\` (Windows)
- **敏感信息加密**: IP 地址雜湊處理，用戶 ID 匿名化
- **本地化存儲**: 所有配置信息僅存放在本地

### API 安全
- **權限最小化**: 僅請求必要的 API 權限
- **請求頻率限制**: 內建請求間隔，避免觸發風控
- **錯誤處理完善**: 詳細的錯誤信息和異常捕獲

## 🚧 開發和貢獻

### 項目結構
```
bitget_flex_manager_cli/
├── bg_flex_manager_cli.py  # 主程序入口
├── bitget_api.py          # Bitget API 封裝
├── version_checker.py     # 版本檢查模組  
├── bg_key_example.json    # 配置文件範例
└── README.md             # 項目說明文檔
```

### 功能模組說明
- **bitget_api.py**: 包含所有 Bitget API 的封裝函數
- **bg_flex_manager_cli.py**: 主要業務邏輯和用戶交互介面
- **version_checker.py**: 自動版本檢查和更新提醒功能

### 開發環境設置
```bash
# 克隆開發版本
git clone https://github.com/你的用戶名/bitget_flex_manager_cli.git
cd bitget_flex_manager_cli

# 安裝開發依賴 
pip install requests

# 運行測試
python bg_flex_manager_cli.py
```

## 📋 更新日誌

### v1.0.0 (當前版本)
- ✅ 實作子帳戶批量管理功能
- ✅ 實作理財寶批量操作功能  
- ✅ 實作資金轉移管理功能
- ✅ 實作自動版本檢查功能
- ✅ 完善錯誤處理和用戶體驗

## ⚠️ 免責聲明

本工具僅供學習和個人使用，使用前請：

1. **充分測試**: 建議先用小額資金測試所有功能
2. **風險自負**: 使用本工具進行的任何交易操作風險自負
3. **遵守法規**: 確保使用符合當地法律法規要求  
4. **API 限制**: 注意遵守 Bitget 交易所的 API 使用條款

## 📞 支持與反饋

- **Issues**: [GitHub Issues](https://github.com/你的用戶名/bitget_flex_manager_cli/issues)
- **功能請求**: 歡迎提交 Feature Request
- **問題回報**: 請提供詳細的錯誤信息和復現步驟

---

## ⭐ 如果這個工具對你有幫助，請給個 Star！

**讓 Bitget 交易更自動化，理財更智能！** 🚀💰